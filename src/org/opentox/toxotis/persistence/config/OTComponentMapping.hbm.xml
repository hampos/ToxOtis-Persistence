<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <class
        dynamic-insert="true"
        dynamic-update="true"
        name="org.opentox.toxotis.core.OTComponent"
        select-before-update="false"
        discriminator-value="OTComp">
        <id name="uri" type="org.opentox.toxotis.persistence.usertypes.VRIUserType"/>
        <!--
                Foreign (M2O) key pointing to MetaInformation
                Question: is unique="true" correct here???
        -->
        <many-to-one cascade="all-delete-orphan" class="org.opentox.toxotis.ontology.MetaInfo" name="meta" unique="true"/>


        <joined-subclass
            name="org.opentox.toxotis.core.component.BibTeX">

            <key column="uri"/>

            <!-- In general think about 'all-delete-orphan'-->
            <property name="abstract"/>
            <property name="address"/>
            <property name="annotation"/>
            <property name="author"/>
            <property
                name="bibType"
                type="org.opentox.toxotis.persistence.usertypes.BibTypeUserType">
            </property>
            <property name="bookTitle"/>
            <property name="chapter"/>
            <property name="copyright"/>
            <property name="crossref">
                <meta  attribute="field-description">
                    Reference to some other BibTeX entry possible providing its URI of other (global) identifier.
                </meta>
            </property>
            <property name="edition"/>
            <property name="editor"/>
            <property name="isbn" length="20"/>
            <property name="issn" length="20"/>
            <property name="journal"/>
            <property column="bibkey" name="key"/>
            <property name="keywords"/>
            <property name="number" length="20"/>
            <property name="pages" length="20"/>
            <property name="series"/>
            <property name="title"/>
            <property name="url"/>
            <property name="volume"/>
            <property name="year"/>
        </joined-subclass>

    </class>
</hibernate-mapping>
